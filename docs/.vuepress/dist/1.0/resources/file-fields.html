<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>File Fields</title>
    <meta name="description" content="Master Your Universe">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,800,800i,900,900i" rel="stylesheet" type="text/css">
    
    <link rel="preload" href="/docs/assets/css/0.styles.c13031c2.css" as="style"><link rel="preload" href="/docs/assets/js/app.bdf30820.js" as="script"><link rel="preload" href="/docs/assets/js/10.33d9c75b.js" as="script"><link rel="prefetch" href="/docs/assets/js/11.04125aff.js"><link rel="prefetch" href="/docs/assets/js/12.a4d9650f.js"><link rel="prefetch" href="/docs/assets/js/13.732f9606.js"><link rel="prefetch" href="/docs/assets/js/14.b65005b5.js"><link rel="prefetch" href="/docs/assets/js/15.8ed74723.js"><link rel="prefetch" href="/docs/assets/js/16.5158aff7.js"><link rel="prefetch" href="/docs/assets/js/17.ac3b64cb.js"><link rel="prefetch" href="/docs/assets/js/18.409cad53.js"><link rel="prefetch" href="/docs/assets/js/19.e4997522.js"><link rel="prefetch" href="/docs/assets/js/2.7910f5b1.js"><link rel="prefetch" href="/docs/assets/js/20.87635785.js"><link rel="prefetch" href="/docs/assets/js/21.8766451c.js"><link rel="prefetch" href="/docs/assets/js/22.aef19787.js"><link rel="prefetch" href="/docs/assets/js/23.20b86c12.js"><link rel="prefetch" href="/docs/assets/js/24.fb401282.js"><link rel="prefetch" href="/docs/assets/js/25.d065eeb5.js"><link rel="prefetch" href="/docs/assets/js/26.a4d3b7c1.js"><link rel="prefetch" href="/docs/assets/js/27.7c9fbd2d.js"><link rel="prefetch" href="/docs/assets/js/28.da62620f.js"><link rel="prefetch" href="/docs/assets/js/29.72596597.js"><link rel="prefetch" href="/docs/assets/js/3.89f9db17.js"><link rel="prefetch" href="/docs/assets/js/30.981aa03c.js"><link rel="prefetch" href="/docs/assets/js/31.fbf50732.js"><link rel="prefetch" href="/docs/assets/js/32.a072b256.js"><link rel="prefetch" href="/docs/assets/js/33.1b790007.js"><link rel="prefetch" href="/docs/assets/js/34.643021bc.js"><link rel="prefetch" href="/docs/assets/js/35.7cbdbf02.js"><link rel="prefetch" href="/docs/assets/js/36.e7f5058b.js"><link rel="prefetch" href="/docs/assets/js/37.89f5629e.js"><link rel="prefetch" href="/docs/assets/js/38.cd56d617.js"><link rel="prefetch" href="/docs/assets/js/39.eb6eb1e4.js"><link rel="prefetch" href="/docs/assets/js/4.fe100596.js"><link rel="prefetch" href="/docs/assets/js/40.d7a5748e.js"><link rel="prefetch" href="/docs/assets/js/41.4b8198ef.js"><link rel="prefetch" href="/docs/assets/js/42.5f5b5106.js"><link rel="prefetch" href="/docs/assets/js/5.09e7bf79.js"><link rel="prefetch" href="/docs/assets/js/6.f8e4e657.js"><link rel="prefetch" href="/docs/assets/js/7.867ff109.js"><link rel="prefetch" href="/docs/assets/js/8.992bb95f.js"><link rel="prefetch" href="/docs/assets/js/9.353c2b7a.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.c13031c2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/assets/img/logo.svg" alt="" class="logo"> <!----></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://nova.laravel.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://nova.laravel.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/1.0/installation.html" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/installation.html#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/installation.html#browser-support" class="sidebar-link">Browser Support</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/installation.html#installing-nova" class="sidebar-link">Installing Nova</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/installation.html#installing-nova-via-composer" class="sidebar-link">Installing Nova Via Composer</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/installation.html#customizing-nova-s-authentication-guard" class="sidebar-link">Customizing Nova's Authentication Guard</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/installation.html#authorizing-nova" class="sidebar-link">Authorizing Nova</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/installation.html#updating-nova" class="sidebar-link">Updating Nova</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/installation.html#bug-reports" class="sidebar-link">Bug Reports</a></li></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Resources</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/1.0/resources/" class="sidebar-link">The Basics</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/resources/#defining-resources" class="sidebar-link">Defining Resources</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/#registering-resources" class="sidebar-link">Registering Resources</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/#grouping-resources" class="sidebar-link">Grouping Resources</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/#eager-loading" class="sidebar-link">Eager Loading</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/#resource-events" class="sidebar-link">Resource Events</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/#preventing-conflicts" class="sidebar-link">Preventing Conflicts</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/#keyboard-shortcuts" class="sidebar-link">Keyboard Shortcuts</a></li></ul></li><li><a href="/docs/1.0/resources/fields.html" class="sidebar-link">Fields</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/resources/fields.html#defining-fields" class="sidebar-link">Defining Fields</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/fields.html#showing-hiding-fields" class="sidebar-link">Showing / Hiding Fields</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/fields.html#field-panels" class="sidebar-link">Field Panels</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/fields.html#sortable-fields" class="sidebar-link">Sortable Fields</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/fields.html#field-types" class="sidebar-link">Field Types</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/fields.html#computed-fields" class="sidebar-link">Computed Fields</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/fields.html#customization" class="sidebar-link">Customization</a></li></ul></li><li><a href="/docs/1.0/resources/date-fields.html" class="sidebar-link">Date Fields</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/1.0/resources/file-fields.html" class="active sidebar-link">File Fields</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/resources/file-fields.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/file-fields.html#images" class="sidebar-link">Images</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/file-fields.html#avatars" class="sidebar-link">Avatars</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/file-fields.html#storing-metadata" class="sidebar-link">Storing Metadata</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/file-fields.html#pruning" class="sidebar-link">Pruning</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/file-fields.html#customization" class="sidebar-link">Customization</a></li></ul></li><li><a href="/docs/1.0/resources/relationships.html" class="sidebar-link">Relationships</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/resources/relationships.html#hasone" class="sidebar-link">HasOne</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/relationships.html#hasmany" class="sidebar-link">HasMany</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/relationships.html#belongsto" class="sidebar-link">BelongsTo</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/relationships.html#belongstomany" class="sidebar-link">BelongsToMany</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/relationships.html#morphmany" class="sidebar-link">MorphMany</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/relationships.html#morphto" class="sidebar-link">MorphTo</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/relationships.html#morphtomany" class="sidebar-link">MorphToMany</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/relationships.html#searchable-relations" class="sidebar-link">Searchable Relations</a></li></ul></li><li><a href="/docs/1.0/resources/validation.html" class="sidebar-link">Validation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/1.0/resources/authorization.html" class="sidebar-link">Authorization</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/resources/authorization.html#policies" class="sidebar-link">Policies</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/authorization.html#fields" class="sidebar-link">Fields</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/authorization.html#index-filtering" class="sidebar-link">Index Filtering</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/authorization.html#relatable-filtering" class="sidebar-link">Relatable Filtering</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/resources/authorization.html#scout-filtering" class="sidebar-link">Scout Filtering</a></li></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Search</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/1.0/search/global-search.html" class="sidebar-link">Global Search</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/1.0/search/scout-integration.html" class="sidebar-link">Scout Integration</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Filters</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/1.0/filters/defining-filters.html" class="sidebar-link">Defining Filters</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/filters/defining-filters.html#select-filters" class="sidebar-link">Select Filters</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/filters/defining-filters.html#boolean-filters" class="sidebar-link">Boolean Filters</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/filters/defining-filters.html#date-filters" class="sidebar-link">Date Filters</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/filters/defining-filters.html#filter-titles" class="sidebar-link">Filter Titles</a></li></ul></li><li><a href="/docs/1.0/filters/registering-filters.html" class="sidebar-link">Registering Filters</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Lenses</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/1.0/lenses/defining-lenses.html" class="sidebar-link">Defining Lenses</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/1.0/lenses/registering-lenses.html" class="sidebar-link">Registering Lenses</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/lenses/registering-lenses.html#authorization" class="sidebar-link">Authorization</a></li></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Actions</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/1.0/actions/defining-actions.html" class="sidebar-link">Defining Actions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/actions/defining-actions.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/actions/defining-actions.html#destructive-actions" class="sidebar-link">Destructive Actions</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/actions/defining-actions.html#action-fields" class="sidebar-link">Action Fields</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/actions/defining-actions.html#action-responses" class="sidebar-link">Action Responses</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/actions/defining-actions.html#queued-actions" class="sidebar-link">Queued Actions</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/actions/defining-actions.html#action-log" class="sidebar-link">Action Log</a></li></ul></li><li><a href="/docs/1.0/actions/registering-actions.html" class="sidebar-link">Registering Actions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/actions/registering-actions.html#authorization" class="sidebar-link">Authorization</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/actions/registering-actions.html#pivot-actions" class="sidebar-link">Pivot Actions</a></li></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Metrics</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/1.0/metrics/defining-metrics.html" class="sidebar-link">Defining Metrics</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/metrics/defining-metrics.html#value-metrics" class="sidebar-link">Value Metrics</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/metrics/defining-metrics.html#trend-metrics" class="sidebar-link">Trend Metrics</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/metrics/defining-metrics.html#partition-metrics" class="sidebar-link">Partition Metrics</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/metrics/defining-metrics.html#caching" class="sidebar-link">Caching</a></li></ul></li><li><a href="/docs/1.0/metrics/registering-metrics.html" class="sidebar-link">Registering Metrics</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/metrics/registering-metrics.html#resource-detail-metrics" class="sidebar-link">Resource Detail Metrics</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/metrics/registering-metrics.html#dashboard-metrics" class="sidebar-link">Dashboard Metrics</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/metrics/registering-metrics.html#metric-sizes" class="sidebar-link">Metric Sizes</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/metrics/registering-metrics.html#authorization" class="sidebar-link">Authorization</a></li></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Customization</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/1.0/customization/localization.html" class="sidebar-link">Localization</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/1.0/customization/tools.html" class="sidebar-link">Tools</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/customization/tools.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/tools.html#defining-tools" class="sidebar-link">Defining Tools</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/tools.html#registering-tools" class="sidebar-link">Registering Tools</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/tools.html#building-tools" class="sidebar-link">Building Tools</a></li></ul></li><li><a href="/docs/1.0/customization/resource-tools.html" class="sidebar-link">Resource Tools</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/customization/resource-tools.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/resource-tools.html#defining-tools" class="sidebar-link">Defining Tools</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/resource-tools.html#registering-tools" class="sidebar-link">Registering Tools</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/resource-tools.html#building-tools" class="sidebar-link">Building Tools</a></li></ul></li><li><a href="/docs/1.0/customization/cards.html" class="sidebar-link">Cards</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/customization/cards.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/cards.html#defining-cards" class="sidebar-link">Defining Cards</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/cards.html#registering-cards" class="sidebar-link">Registering Cards</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/cards.html#building-cards" class="sidebar-link">Building Cards</a></li></ul></li><li><a href="/docs/1.0/customization/fields.html" class="sidebar-link">Fields</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/customization/fields.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/fields.html#defining-fields" class="sidebar-link">Defining Fields</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/fields.html#registering-fields" class="sidebar-link">Registering Fields</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/fields.html#building-fields" class="sidebar-link">Building Fields</a></li></ul></li><li><a href="/docs/1.0/customization/frontend.html" class="sidebar-link">CSS / JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/customization/frontend.html#css" class="sidebar-link">CSS</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/frontend.html#javascript" class="sidebar-link">JavaScript</a></li></ul></li><li><a href="/docs/1.0/customization/filters.html" class="sidebar-link">Filters</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/1.0/customization/filters.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/filters.html#defining-filters" class="sidebar-link">Defining Filters</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/filters.html#registering-filters" class="sidebar-link">Registering Filters</a></li><li class="sidebar-sub-header"><a href="/docs/1.0/customization/filters.html#building-filters" class="sidebar-link">Building Filters</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="file-fields"><a href="#file-fields" aria-hidden="true" class="header-anchor">#</a> File Fields</h1> <p></p><div class="table-of-contents"><ul><li><a href="#overview">Overview</a><ul><li><a href="#defining-the-field">Defining The Field</a></li><li><a href="#disabling-file-downloads">Disabling File Downloads</a></li><li><a href="#how-files-are-stored">How Files Are Stored</a></li></ul></li><li><a href="#images">Images</a></li><li><a href="#avatars">Avatars</a></li><li><a href="#storing-metadata">Storing Metadata</a></li><li><a href="#pruning">Pruning</a></li><li><a href="#customization">Customization</a><ul><li><a href="#customizing-file-storage">Customizing File Storage</a></li><li><a href="#customizing-file-deletion">Customizing File Deletion</a></li><li><a href="#customizing-previews">Customizing Previews</a></li><li><a href="#customizing-thumbnails">Customizing Thumbnails</a></li></ul></li></ul></div><p></p> <p>Nova offers several types of file fields: <code>File</code>, <code>Image</code>, and <code>Avatar</code>. The <code>File</code> field is the most basic form of file upload field, and is the base class for both the <code>Image</code> and <code>Avatar</code> field classes. In the following documentation, we will explore each of these fields and discuss their similarities and differences.</p> <h2 id="overview"><a href="#overview" aria-hidden="true" class="header-anchor">#</a> Overview</h2> <p>To illustrate the behavior of Nova file upload fields, let's assume our application's users can upload &quot;profile photos&quot; to their account. So, our <code>users</code> database table will have a <code>profile_photo</code> column. This column will contain the path to the profile on disk, or, when using a cloud storage provider such as Amazon S3, the profile photo's path within its &quot;bucket&quot;.</p> <h3 id="defining-the-field"><a href="#defining-the-field" aria-hidden="true" class="header-anchor">#</a> Defining The Field</h3> <p>Next, let's attach the file field to our <code>User</code> resource. In this example, we will create the field and instruct it to store the underlying file on the <code>public</code> disk. This disk name should correspond to a disk name in your <code>config/filesystems.php</code> configuration file:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Nova<span class="token punctuation">\</span>Fields<span class="token punctuation">\</span>File</span><span class="token punctuation">;</span>

File<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Profile Photo'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'public'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="disabling-file-downloads"><a href="#disabling-file-downloads" aria-hidden="true" class="header-anchor">#</a> Disabling File Downloads</h3> <p>By default, the <code>File</code> field allows the user to download the linked file. To disable this you can use the <code>disableDownload</code> method on the field definition:</p> <div class="language-php extra-class"><pre class="language-php"><code>File<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Profile Photo'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disableDownload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="how-files-are-stored"><a href="#how-files-are-stored" aria-hidden="true" class="header-anchor">#</a> How Files Are Stored</h3> <p>When a file is uploaded using this field, Nova will use Laravel's <a href="https://laravel.com/docs/filesystem" target="_blank" rel="noopener noreferrer">Flysystem integration<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to store the file on the disk of your choosing with a randomly generated filename. Once the file is stored, Nova will store the relative path to the file in the file field's underlying database column.</p> <p>To illustrate the default behavior of the <code>File</code> field, let's take a look at an equivalent route that would store the file in the same way:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>

Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/photo'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$path</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">profile_photo</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'profile_photo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$path</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Of course, once the file has been stored, you may retrieve it within your application using the Laravel <code>Storage</code> facade:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Storage</span><span class="token punctuation">;</span>

Storage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">profile_photo</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Storage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">profile_photo</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If you are using the <code>public</code> disk with the <code>local</code> driver, you should run the <code>php artisan storage:link</code> Artisan command to create a symbolic link from <code>public/storage</code> to <code>storage/app/public</code>. To learn more about file storage in Laravel, check out the <a href="https://laravel.com/docs/filesystem" target="_blank" rel="noopener noreferrer">Laravel file storage documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="tip custom-block"><p class="custom-block-title">Customization</p> <p>The documentation above only demonstrates the default behavior of the <code>File</code> field. To learn more about how to customize its behavior, check out the <a href="#customization">customization documentation</a>.</p></div> <h2 id="images"><a href="#images" aria-hidden="true" class="header-anchor">#</a> Images</h2> <p>The <code>Image</code> field behaves exactly like the <code>File</code> field; however, instead of only displaying the path to the file within the Nova dashboard, an <code>Image</code> field will show a thumbnail preview of the underlying file. All of the configuration and customization options of the <code>Image</code> field mirror that of the <code>File</code> field:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Nova<span class="token punctuation">\</span>Fields<span class="token punctuation">\</span>Image</span><span class="token punctuation">;</span>

Image<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Profile Photo'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'public'</span><span class="token punctuation">)</span>
</code></pre></div><p>To set the width of the <code>Image</code> field when being displayed, you can use the <code>maxWidth</code> method:</p> <div class="language-php extra-class"><pre class="language-php"><code>Image<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Profile Photo'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">maxWidth</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
</code></pre></div><p>You can also use the <code>maxWidth</code> method on the <a href="#avatars">Avatar</a> and <a href="/docs/1.0/resources/fields.html#gravatar-field">Gravatar</a> fields.</p> <h2 id="avatars"><a href="#avatars" aria-hidden="true" class="header-anchor">#</a> Avatars</h2> <p>The <code>Avatar</code> field behaves exactly like the <code>File</code> field; however, instead of only displaying the path to the file within the Nova dashboard, an <code>Avatar</code> field will show a thumbnail preview of the underlying file. All of the configuration and customization options of the <code>Avatar</code> field mirror that of the <code>File</code> field:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Nova<span class="token punctuation">\</span>Fields<span class="token punctuation">\</span>Avatar</span><span class="token punctuation">;</span>

Avatar<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Poster'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'public'</span><span class="token punctuation">)</span>
</code></pre></div><p>In addition to displaying a thumbnail preview of the underlying file, an <code>Avatar</code> field will also be automatically displayed in Nova search results. An <code>Avatar</code> field is not limited to &quot;user&quot; resources - you may attach <code>Avatar</code> fields to any resource within your Nova application:</p> <p><img src="/docs/assets/img/avatar-poster.00f6ebb8.png" alt="Avatar Example"></p> <h2 id="storing-metadata"><a href="#storing-metadata" aria-hidden="true" class="header-anchor">#</a> Storing Metadata</h2> <p>In addition to storing the path to the file within the storage system, you may also instruct Nova to store the original client filename and its size (in bytes). You may accomplish this using the <code>storeOriginalName</code> and <code>storeSize</code> methods. Each of these methods accept the name of the column you would like to store the file information:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Nova<span class="token punctuation">\</span>Fields<span class="token punctuation">\</span>File</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Nova<span class="token punctuation">\</span>Fields<span class="token punctuation">\</span>Text</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Get the fields displayed by the resource.
 *
 * @param  \Illuminate\Http\Request  $request
 * @return array
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">fields</span><span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token comment">// ...</span>

        File<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Attachment'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'s3'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">storeOriginalName</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attachment_name'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">storeSize</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attachment_size'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

        Text<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Attachment Name'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">exceptOnForms</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

        Text<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Attachment Size'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">exceptOnForms</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">displayUsing</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token function">number_format</span><span class="token punctuation">(</span><span class="token variable">$value</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'kb'</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>One benefit of storing the original client filename is the ability to create file download responses using the original filename that was used to upload the file. For example, you may do something like the following in one of your application's routes:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Storage</span><span class="token punctuation">;</span>

Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/download'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$user</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> Storage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">download</span><span class="token punctuation">(</span>
        <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token punctuation">,</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment_name</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">File Downloads</p> <p>When using the <code>storeOriginalName</code> method, the file field's &quot;Download&quot; link within the Nova dashboard will automatically download the file using its original name.</p></div> <h2 id="pruning"><a href="#pruning" aria-hidden="true" class="header-anchor">#</a> Pruning</h2> <p>The <code>File</code> field, as well as the <code>Image</code> and <code>Avatar</code> fields, may be marked as <code>prunable</code>. The <code>prunable</code> method will instruct Nova to delete the underlying file from storage when the associated model is deleted from the database:</p> <div class="language-php extra-class"><pre class="language-php"><code>File<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Profile Photo'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'public'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">prunable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">Non-Nova Deletes</p> <p>Nova will only automatically prune files for model deletes that are initiated within Nova. Other portions of your application may need to implement their own file deletion logic.</p></div> <h2 id="customization"><a href="#customization" aria-hidden="true" class="header-anchor">#</a> Customization</h2> <h3 id="customizing-file-storage"><a href="#customizing-file-storage" aria-hidden="true" class="header-anchor">#</a> Customizing File Storage</h3> <p>Previously we learned that, by default, Nova stores the file using the <code>store</code> method of the <code>Illuminate\Http\UploadedFile</code> class. However, you may fully customize this behavior based on your application's needs.</p> <h4 id="customizing-the-name-path"><a href="#customizing-the-name-path" aria-hidden="true" class="header-anchor">#</a> Customizing The Name / Path</h4> <p>If you only need to customize the name or path of the stored file on disk, you may use the <code>path</code> and <code>storeAs</code> methods of the <code>File</code> field:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>

File<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Attachment'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'s3'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'-attachments'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">storeAs</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">sha1</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getClientOriginalName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="customizing-the-entire-storage-process"><a href="#customizing-the-entire-storage-process" aria-hidden="true" class="header-anchor">#</a> Customizing The Entire Storage Process</h4> <p>However, if you would like to take <strong>total</strong> control over the file storage logic of a field, you may use the <code>store</code> method. The <code>store</code> method accepts a callable which receives the incoming HTTP request and the model instance associated with the request:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>

File<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Attachment'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$model</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token single-quoted-string string">'attachment'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'s3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'attachment_name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getClientOriginalName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'attachment_size'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>As you can see in the example above, the <code>store</code> callback is returning an array of keys and values. These key / value pairs are mapped onto your model instance before it is saved to the database, allowing you to update one or many of the model's database columns after your file is stored.</p> <h4 id="invokables"><a href="#invokables" aria-hidden="true" class="header-anchor">#</a> Invokables</h4> <p>Of course, performing all of your file storage logic within a Closure can cause your resource to become bloated. For that reason, Nova allows you to pass an &quot;invokable&quot; object to the <code>store</code> method:</p> <div class="language-php extra-class"><pre class="language-php"><code>File<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Attachment'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StoreAttachment</span><span class="token punctuation">)</span>
</code></pre></div><p>The invokable object should be a simple PHP class with a single <code>__invoke</code> method:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Nova</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">StoreAttachment</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Store the incoming file upload.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Illuminate\Database\Eloquent\Model  $model
     * @return array
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__invoke</span><span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$model</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token single-quoted-string string">'attachment'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'s3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'attachment_name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getClientOriginalName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'attachment_size'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h3 id="customizing-file-deletion"><a href="#customizing-file-deletion" aria-hidden="true" class="header-anchor">#</a> Customizing File Deletion</h3> <p>When a file is deleted from the Nova administration panel, Nova will automatically remove the underlying file from storage and insert <code>NULL</code> into the field's associated column.</p> <p>If you would like to override this behavior and provide your own file deletion implementation, you may use the <code>delete</code> method. Like the <code>store</code> method discussed above, the <code>delete</code> method accepts a callable which receives the incoming HTTP request and the model instance associated with the request:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Storage</span><span class="token punctuation">;</span>

File<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Attachment'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'s3'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$model</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$model</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        Storage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">disk</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token single-quoted-string string">'attachment'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'attachment_name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'attachment_size'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>As you can see in the example above, the <code>delete</code> callback is returning an array of keys and values. These key / value pairs are mapped onto your model instance before it is saved to the database, allowing you to update one or many of the model's database columns after your file is stored. Typically, when deleting a field, you will insert <code>NULL</code> into the relevant database columns.</p> <h4 id="invokables-2"><a href="#invokables-2" aria-hidden="true" class="header-anchor">#</a> Invokables</h4> <p>Of course, performing all of your file deletion logic within a Closure can cause your resource to become bloated. For that reason, Nova allows you to pass an &quot;invokable&quot; object to the <code>delete</code> method:</p> <div class="language-php extra-class"><pre class="language-php"><code>File<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Attachment'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DeleteAttachment</span><span class="token punctuation">)</span>
</code></pre></div><p>The invokable object should be a simple PHP class with a single <code>__invoke</code> method:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Nova</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Storage</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DeleteAttachment</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Delete the field's underlying file.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Illuminate\Database\Eloquent\Model  $model
     * @return array
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__invoke</span><span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$model</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$model</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        Storage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">disk</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attachment</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token single-quoted-string string">'attachment'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'attachment_name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'attachment_size'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h3 id="customizing-previews"><a href="#customizing-previews" aria-hidden="true" class="header-anchor">#</a> Customizing Previews</h3> <p>By default, Nova will use the <code>Storage::url</code> method to determine the URL that should be used to display image previews on the resource detail screen and edit form. However, you may customize the generation of this URL using the <code>preview</code> method.</p> <p>The <code>preview</code> method accepts a callable which should return the preview URL. The field's underlying column value is passed to the callable as the first parameter, while the name of the field's storage disk is passed as the second parameter:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Nova<span class="token punctuation">\</span>Fields<span class="token punctuation">\</span>Image</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Storage</span><span class="token punctuation">;</span>

Image<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Profile Photo'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'public'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">preview</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$disk</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$value</span>
                    <span class="token operator">?</span> Storage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token variable">$disk</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span>
                    <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">Preview Size</p> <p>By default, the Nova resource detail screen will display previews at a width of 318 pixels (636 pixels for &quot;retina displays&quot;).</p></div> <h3 id="customizing-thumbnails"><a href="#customizing-thumbnails" aria-hidden="true" class="header-anchor">#</a> Customizing Thumbnails</h3> <p>By default, Nova will use the <code>Storage::url</code> method to determine the URL that should be used to display thumbnail previews on the resource index screen and within search results (when using the <code>Avatar</code> field). However, you may customize the generation of this URL using the <code>thumbnail</code> method.</p> <p>The <code>thumbnail</code> method accepts a callable which should return the thumbnail URL. The field's underlying column value is passed to the callable as the first parameter, while the name of the field's storage disk is passed as the second parameter:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Nova<span class="token punctuation">\</span>Fields<span class="token punctuation">\</span>Image</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Storage</span><span class="token punctuation">;</span>

Image<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Profile Photo'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'public'</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">thumbnail</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$disk</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$value</span>
                    <span class="token operator">?</span> Storage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">disk</span><span class="token punctuation">(</span><span class="token variable">$disk</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span>
                    <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">Thumbnail Size</p> <p>By default, Nova will display thumbnails at a width of 32 pixels (64 pixels for &quot;retina displays&quot;).</p></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/1.0/resources/date-fields.html" class="prev">
          Date Fields
        </a></span> <span class="next"><a href="/docs/1.0/resources/relationships.html">
          Relationships
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/assets/js/app.bdf30820.js" defer></script><script src="/docs/assets/js/10.33d9c75b.js" defer></script>
  </body>
</html>
